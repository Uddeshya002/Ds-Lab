#include <iostream>
#include <vector>
using namespace std;

struct Node{
    int data;
    Node *left,*right;
    Node(int v):data(v),left(NULL),right(NULL){}
};

void inorder(Node* r,vector<Node*>& v){
    if(!r) return;
    inorder(r->left,v);
    v.push_back(r);
    inorder(r->right,v);
}

Node* mergeDLL(vector<Node*>& a,vector<Node*>& b){
    vector<Node*> v;
    int i=0,j=0;
    while(i<a.size()&&j<b.size()){
        if(a[i]->data<b[j]->data) v.push_back(a[i++]);
        else v.push_back(b[j++]);
    }
    while(i<a.size()) v.push_back(a[i++]);
    while(j<b.size()) v.push_back(b[j++]);
    for(int k=0;k<v.size();k++){
        v[k]->left = (k? v[k-1] : NULL);
        v[k]->right = (k+1<v.size()? v[k+1] : NULL);
    }
    return v[0];
}

int main(){
    Node* t1=new Node(20);
    t1->left=new Node(10);
    t1->right=new Node(30);
    t1->left->left=new Node(25);
    t1->right->right=new Node(100);

    Node* t2=new Node(5);
    t2->right=new Node(70);

    vector<Node*> a,b;
    inorder(t1,a);
    inorder(t2,b);

    Node* head=mergeDLL(a,b);

    while(head){ cout<<head->data<<" "; head=head->right; }
}
